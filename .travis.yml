language: python

python:
  - "2.7"
  - "3.2"
  - "3.3"
  - "3.4"

install:
  - pip install .
  - pip install autopep8
  - pip install ipython
  - git clone https://github.com/evhub/cocotest.git
  - cd cocotest

script:
  - coconut --version
  - coconut --strict --print --debug --code "print(__coconut__)"
  - '"print(__coconut__)" | coconut --strict --print --debug'
  - ipython --ext coconut -c "%coconut print(__coconut__)"
  - coconut src/cocotest build/cocotest --strict --print --debug --autopep8
  - coconut src/runner.coc build --strict --print --debug --autopep8
  - python build/runner.py -tt -vv

notifications:
  email: false
